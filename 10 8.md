# Nhật ký công việc ngày 10/08/2025

Đây là bản ghi lại các công việc đã được thực hiện để sửa lỗi và cấu hình dự án.

## 1. Sửa lỗi khởi động máy chủ (`runserver`)

- **Vấn đề 1: `AttributeError: module 'core.views' has no attribute '...'`**
  - **Nguyên nhân:** File `core/urls.py` đã khai báo rất nhiều URL nhưng các class View tương ứng (ListView, DetailView, CreateView, v.v.) chưa được tạo trong `core/views.py`.
  - **Giải pháp:** Đã thêm tất cả các class-based views còn thiếu cho các model `HoSoCongViec`, `KeHoach`, `NhiemVu`, và các model khác vào file `core/views.py`. Đồng thời, sửa một lỗi chính tả (`Login_RequiredMixin` -> `LoginRequiredMixin`).

- **Vấn đề 2: `TemplateDoesNotExist: home.html` và `dashboard.html`**
  - **Nguyên nhân:** Các hàm view `home` và `dashboard` gọi `render()` với đường dẫn template không chính xác (ví dụ: `home.html` thay vì `core/home.html`).
  - **Giải pháp:** Đã sửa lại đường dẫn template trong các hàm `render` để trỏ đến đúng vị trí trong thư mục `core/templates/core/`.

## 2. Sửa lỗi trong quá trình chạy (Runtime)

- **Vấn đề: `NoReverseMatch: Reverse for 'duan-detail' not found`**
  - **Nguyên nhân:** Template `kehoach_detail.html` sử dụng tên URL `'duan-detail'` và tên trường `ten_du_an` đã cũ. Model `DuAn` đã được đổi tên thành `HoSoCongViec`.
  - **Giải pháp:** Cập nhật template, thay thế `{% url 'duan-detail' ... %}` bằng `{% url 'hosocongviec-detail' ... %}` và `{{ object.id_du_an.ten_du_an }}` bằng `{{ object.id_du_an.ten_ho_so_cong_viec }}`.

## 3. Sửa lỗi không đăng nhập được

- **Vấn đề 1: Lỗi 403 (Forbidden) khi đăng nhập vào trang Admin**
  - **Nguyên nhân:** Django không tin tưởng nguồn gốc (`origin`) của yêu cầu đăng nhập, dẫn đến lỗi CSRF.
  - **Giải pháp:** Thêm `CSRF_TRUSTED_ORIGINS = ['http://127.0.0.1:8000']` vào file `project_config/settings.py`.

- **Vấn đề 2: Không thể đăng nhập bằng tài khoản hiện có**
  - **Nguyên nhân:** Có khả năng do sai mật khẩu hoặc vấn đề với dữ liệu người dùng trong database.
  - **Giải pháp:** Đã tạo một tài khoản superuser mới một cách không tương tác để đảm bảo quyền truy cập vào hệ thống.
    - **Tên đăng nhập:** `superadmin`
    - **Mật khẩu:** `superadmin`

## 4. Yêu cầu sao lưu dự án bằng Git

- **Vấn đề:** Lệnh `git` không được tìm thấy trên hệ thống.
- **Giải pháp:** Đã hướng dẫn người dùng cài đặt Git từ trang chủ [https://git-scm.com/downloads](https://git-scm.com/downloads).
- **Công việc đã làm:**
  - Đã tạo một file `.gitignore` chuẩn cho dự án Django để loại bỏ các file không cần thiết khỏi kho lưu trữ.
- **Việc cần làm tiếp theo:** Sau khi người dùng cài đặt Git, sẽ tiếp tục quá trình khởi tạo kho lưu trữ (`git init`), thêm file (`git add .`) và tạo commit đầu tiên (`git commit`).
